<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢–í–û–Å –ú–ï–°–¢–û–ü–û–õ–û–ñ–ï–ù–ò–ï –û–ë–ù–ê–†–£–ñ–ï–ù–û üò±</title>
  <style>
    body {
      font-family: 'Courier New', monospace;
      background: linear-gradient(to bottom, #000, #110000);
      color: #ff0044;
      margin: 0;
      padding: 30px 20px;
      min-height: 100vh;
      text-align: center;
    }
    h1 {
      text-shadow: 0 0 20px #ff0044;
      animation: blink 1.5s infinite alternate;
    }
    pre {
      background: #111;
      padding: 25px;
      border: 2px solid #ff0044;
      border-radius: 10px;
      white-space: pre-wrap;
      font-size: 1.1em;
      max-width: 800px;
      margin: 20px auto;
      color: #0f0;
      text-align: left;
    }
    button {
      background: #ff0044;
      color: white;
      border: none;
      padding: 15px 40px;
      font-size: 1.3em;
      margin: 20px;
      cursor: pointer;
      border-radius: 8px;
      box-shadow: 0 0 15px #ff0044;
    }
    .status {
      color: #ffff00;
      font-size: 1.2em;
      margin: 15px;
    }
    @keyframes blink {
      from { opacity: 1; }
      to   { opacity: 0.5; }
    }
  </style>
</head>
<body>
  <h1>–°–ò–°–¢–ï–ú–ê –ê–ö–¢–ò–í–ò–†–û–í–ê–ù–ê</h1>
  <p class="status">–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã "–ø—Ä–æ–≤–µ—Ä–∏—Ç—å" —Å–≤–æ—ë –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ... –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä–æ–π, –µ—Å–ª–∏ –±–æ–∏—à—å—Å—è üòÇ</p>
  
  <button onclick="getPreciseLocation()">–ü–û–õ–£–ß–ò–¢–¨ –¢–û–ß–ù–û–ï –ú–ï–°–¢–û–ü–û–õ–û–ñ–ï–ù–ò–ï</button>
  
  <pre id="info">–ñ–¥—É —Ç–≤–æ–µ–≥–æ –∫–ª–∏–∫–∞... (–µ—Å–ª–∏ –Ω–µ –Ω–∞–∂–º—ë—à—å ‚Äî –Ω–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ –Ω–µ —Å–ª—É—á–∏—Ç—Å—è üòè)</pre>

  <script>
    const info = document.getElementById('info');
    const ua = navigator.userAgent;
    let baseInfo = `–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${parseDevice()}

User-Agent: ${ua}
–≠–∫—Ä–∞–Ω: ${screen.width} √ó ${screen.height}
RAM ‚âà ${navigator.deviceMemory || '?'} –ì–ë
–Ø–¥–µ—Ä CPU: ${navigator.hardwareConcurrency || '?'}
–Ø–∑—ã–∫: ${navigator.language}
–ú–æ–±–∏–ª—å–Ω—ã–π: ${/Mobi|Android|iPhone|iPad/.test(ua) ? '–î–∞ üì±' : '–ù–µ—Ç'}`;

    function parseDevice() {
      if (/iPhone/.test(ua)) return 'iPhone (iOS)';
      if (/Android/.test(ua)) {
        if (/SM-/.test(ua)) return 'Samsung Galaxy';
        if (/Pixel/.test(ua)) return 'Google Pixel';
        return 'Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ';
      }
      return '–ü–ö –∏–ª–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
    }

    function showBaseInfo(extra = '') {
      info.textContent = baseInfo + extra;
    }

    showBaseInfo('\n\n–ì–µ–æ –ø–æ IP –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...');

    // –°–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∂–µ–º IP-–≥–µ–æ (fallback)
    fetch('http://ip-api.com/json/?fields=status,country,regionName,city,lat,lon,zip,isp,mobile,proxy')
      .then(r => r.json())
      .then(geo => {
        if (geo.status === 'success') {
          let ipGeo = `\n\n–ì–µ–æ –ø–æ IP (–ø—Ä–∏–º–µ—Ä–Ω–æ):
–ì–æ—Ä–æ–¥: ${geo.city}
–†–µ–≥–∏–æ–Ω: ${geo.regionName}
–°—Ç—Ä–∞–Ω–∞: ${geo.country}
–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: ${geo.lat}, ${geo.lon}
–ü—Ä–æ–≤–∞–π–¥–µ—Ä: ${geo.isp}
–ú–æ–±–∏–ª—å–Ω—ã–π: ${geo.mobile ? '–î–∞' : '–ù–µ—Ç'}
VPN?: ${geo.proxy ? '–î–∞' : '–ù–µ—Ç'}`;
          showBaseInfo(ipGeo);
        }
      })
      .catch(() => showBaseInfo('\n\nIP-–≥–µ–æ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å'));

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ GPS
    function getPreciseLocation() {
      if (!navigator.geolocation) {
        info.textContent += '\n\n–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–≤–æ–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º üò¢';
        return;
      }

      info.textContent += '\n\n–ó–∞–ø—Ä–∞—à–∏–≤–∞—é —Ç–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ... –ë—Ä–∞—É–∑–µ—Ä —Å–ø—Ä–æ—Å–∏—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ!';

      const options = {
        enableHighAccuracy: true,   // –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ (GPS)
        timeout: 15000,             // 15 —Å–µ–∫ –º–∞–∫—Å–∏–º—É–º
        maximumAge: 0               // —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ, –Ω–µ –∫—ç—à
      };

      navigator.geolocation.getCurrentPosition(
        (position) => {
          const coords = position.coords;
          let gpsText = `\n\n–¢–û–ß–ù–ê–Ø –ì–ï–û–õ–û–ö–ê–¶–ò–Ø (GPS, —Ç–æ—á–Ω–æ—Å—Ç—å ${Math.round(coords.accuracy)} –º):
–®–∏—Ä–æ—Ç–∞: ${coords.latitude.toFixed(6)}
–î–æ–ª–≥–æ—Ç–∞: ${coords.longitude.toFixed(6)}
–í—ã—Å–æ—Ç–∞: ${coords.altitude ? coords.altitude.toFixed(0) + ' –º' : '–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö'}
–°–∫–æ—Ä–æ—Å—Ç—å: ${coords.speed ? coords.speed.toFixed(1) + ' –º/—Å' : '—Å—Ç–æ–∏—à—å –Ω–∞ –º–µ—Å—Ç–µ'}
–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: ${coords.heading ? coords.heading.toFixed(0) + '¬∞' : '–Ω–µ—Ç'}
–í—Ä–µ–º—è: ${new Date(position.timestamp).toLocaleString('ru-RU')}

–¢—ã –ø–æ–ø–∞–ª—Å—è –ø–æ –ø–æ–ª–Ω–æ–π! üòÇ –¢–µ–ø–µ—Ä—å –∑–Ω–∞—é –≥–¥–µ —Ç—ã —Ä–µ–∞–ª—å–Ω–æ —Å—Ç–æ–∏—à—å.
–ü–µ—Ä–µ—à–ª–∏ –¥—Ä—É–≥—É ‚Äî –ø—É—Å—Ç—å —Ç–æ–∂–µ –ø–æ–ø—Ä–æ–±—É–µ—Ç!`;

          info.textContent = baseInfo + gpsText;
        },
        (error) => {
          let msg = '\n\n–û—à–∏–±–∫–∞: ';
          switch(error.code) {
            case error.PERMISSION_DENIED:
              msg += '–¢—ã –∑–∞–ø—Ä–µ—Ç–∏–ª –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏. –ñ–∞–ª—å, –±—ã–ª–æ –±—ã —Ç–æ—á–Ω–µ–µ...';
              break;
            case error.POSITION_UNAVAILABLE:
              msg += '–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ (GPS –≤—ã–∫–ª—é—á–µ–Ω?)';
              break;
            case error.TIMEOUT:
              msg += '–°–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ –∂–¥—ë–º, —Ç–∞–π–º–∞—É—Ç...';
              break;
            default:
              msg += error.message;
          }
          info.textContent += msg;
        },
        options
      );
    }
  </script>
</body>
</html>
