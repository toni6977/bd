<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–†–û–ß–ù–û –û–¢–ö–†–û–ô ‚Äî –≠–¢–û –ü–†–û –¢–ï–ë–Ø</title>
  <style>
    body {
      font-family: 'Courier New', monospace;
      background: #000;
      color: #ff0044;
      margin: 0;
      padding: 40px 20px;
      text-align: center;
      min-height: 100vh;
    }
    h1 {
      text-shadow: 0 0 20px #ff0044;
      animation: blink 1.2s infinite alternate;
      margin-bottom: 10px;
    }
    .container {
      max-width: 700px;
      margin: 0 auto;
    }
    pre {
      background: #0a0a0a;
      padding: 25px;
      border: 2px solid #ff0044;
      border-radius: 10px;
      white-space: pre-wrap;
      font-size: 1.1em;
      text-align: left;
      margin: 25px auto;
      color: #00ff41;
    }
    .buttons {
      margin: 30px 0;
    }
    button {
      background: #ff0044;
      color: white;
      border: none;
      padding: 18px 50px;
      font-size: 1.4em;
      margin: 0 20px;
      cursor: pointer;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(255,0,68,0.6);
      transition: all 0.2s;
    }
    button:hover {
      transform: scale(1.08);
      box-shadow: 0 0 30px rgba(255,0,68,0.9);
    }
    .error-page {
      background: #111;
      padding: 60px 20px;
      border: 3px solid #ff0000;
      border-radius: 12px;
      font-size: 1.3em;
      color: #ffcc00;
    }
    @keyframes blink {
      from { opacity: 1; }
      to   { opacity: 0.6; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>–í–ù–ò–ú–ê–ù–ò–ï! –°–ò–°–¢–ï–ú–ê –û–ë–ù–ê–†–£–ñ–ò–õ–ê –¢–ï–ë–Ø</h1>
    <p style="font-size:1.3em; margin:20px 0;">–¢—ã —Ç–æ—á–Ω–æ —Ö–æ—á–µ—à—å —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ –æ —Ç–µ–±–µ —É–∂–µ –∏–∑–≤–µ—Å—Ç–Ω–æ?</p>

    <div class="buttons" id="choice">
      <button onclick="userSaidYes()">–î–ê, –ü–û–ö–ê–ñ–ò</button>
      <button onclick="userSaidNo()">–ù–ï–¢, –ó–ê–ö–†–û–ô</button>
    </div>

    <pre id="info">–ñ–¥—É —Ç–≤–æ–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è... –Ω–µ —Ç—è–Ω–∏ üòà</pre>
  </div>

  <script>
    const info = document.getElementById('info');
    const choiceDiv = document.getElementById('choice');
    const ua = navigator.userAgent;

    let device = '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ';
    if (/iPhone/.test(ua)) device = 'iPhone';
    else if (/Android/.test(ua)) device = 'Android (–≤–æ–∑–º–æ–∂–Ω–æ Samsung/Xiaomi/POCO)';
    else if (/Windows/.test(ua)) device = '–ü–ö / –Ω–æ—É—Ç–±—É–∫';

    const baseText = `–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${device}
User-Agent: ${ua}
–≠–∫—Ä–∞–Ω: ${screen.width} √ó ${screen.height}
RAM ‚âà ${navigator.deviceMemory || '?'} –ì–ë
–Ø–¥–µ—Ä: ${navigator.hardwareConcurrency || '?'}`;

    function userSaidYes() {
      choiceDiv.style.display = 'none';
      info.textContent = baseText + '\n\n–ó–∞–ø—Ä–∞—à–∏–≤–∞—é —Ç–æ—á–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã...';

      if (!navigator.geolocation) {
        info.textContent += '\n\n–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–≤–æ–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º. –ñ–∞–ª—å...';
        return;
      }

      navigator.geolocation.getCurrentPosition(
        (pos) => {
          const c = pos.coords;
          const gps = `\n\n–¢–û–ß–ù–´–ï –ö–û–û–†–î–ò–ù–ê–¢–´ (—Ç–æ—á–Ω–æ—Å—Ç—å ~${Math.round(c.accuracy)} –º):
–®–∏—Ä–æ—Ç–∞: ${c.latitude.toFixed(6)}
–î–æ–ª–≥–æ—Ç–∞: ${c.longitude.toFixed(6)}
–í—ã—Å–æ—Ç–∞: ${c.altitude ? c.altitude.toFixed(0) + ' –º –Ω–∞–¥ —É—Ä–æ–≤–Ω–µ–º –º–æ—Ä—è' : '–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö'}
–°–∫–æ—Ä–æ—Å—Ç—å: ${c.speed ? c.speed.toFixed(1) + ' –º/—Å (—Ç—ã –¥–≤–∏–≥–∞–µ—à—å—Å—è)' : '—Å—Ç–æ–∏—à—å –Ω–∞ –º–µ—Å—Ç–µ'}

–¢–µ–ø–µ—Ä—å —è —Ç–æ—á–Ω–æ –∑–Ω–∞—é –≥–¥–µ —Ç—ã —Å—Ç–æ–∏—à—å üòÇ
–ü–µ—Ä–µ—à–ª–∏ –¥—Ä—É–≥—É ‚Äî –ø—É—Å—Ç—å —Ç–æ–∂–µ "–ø–æ—Å–º–æ—Ç—Ä–∏—Ç"!`;
          info.textContent = baseText + gps;
        },
        (err) => {
          let msg = '\n\n–û—à–∏–±–∫–∞: ';
          if (err.code === 1) msg += '–¢—ã –∑–∞–ø—Ä–µ—Ç–∏–ª –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.';
          else if (err.code === 2) msg += '–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ (GPS –≤—ã–∫–ª—é—á–µ–Ω?)';
          else if (err.code === 3) msg += '–°–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ –∂–¥–∞–ª–∏ –æ—Ç–≤–µ—Ç–∞...';
          else msg += err.message;

          msg += '\n\n–ù–æ –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π ‚Äî –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –º–µ—Å—Ç–æ –º—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –∑–Ω–∞–µ–º –ø–æ IP.';
          info.textContent = baseText + msg;
          loadIPFallback();
        },
        { enableHighAccuracy: true, timeout: 12000, maximumAge: 0 }
      );
    }

    function userSaidNo() {
      choiceDiv.style.display = 'none';
      document.body.innerHTML = `
        <div class="error-page">
          <h1>–û–®–ò–ë–ö–ê 404 ‚Äî –°–¢–†–ê–ù–ò–¶–ê –ù–ï –ù–ê–ô–î–ï–ù–ê</h1>
          <p>–ü–æ—Ö–æ–∂–µ, —Ç—ã –Ω–µ –≥–æ—Ç–æ–≤ —É–∑–Ω–∞—Ç—å –ø—Ä–∞–≤–¥—É...</p>
          <p style="font-size:0.9em; color:#888;">(–∑–∞–∫—Ä–æ–π –≤–∫–ª–∞–¥–∫—É –∏–ª–∏ –æ–±–Ω–æ–≤–∏ ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª—É—á–∏–ª–æ—Å—å... –∏–ª–∏ —Å–ª—É—á–∏–ª–æ—Å—å? üòè)</p>
        </div>
      `;
    }

    function loadIPFallback() {
      fetch('http://ip-api.com/json/')
        .then(r => r.json())
        .then(g => {
          if (g.status === 'success') {
            info.textContent += `\n\n–ü—Ä–∏–º–µ—Ä–Ω–æ–µ –º–µ—Å—Ç–æ –ø–æ IP:
${g.city}, ${g.regionName}, ${g.country}
–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ~${g.lat}, ${g.lon}`;
          }
        });
    }

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ—É —Å—Ä–∞–∑—É
    info.textContent = baseText + '\n\n–¢—ã –≥–æ—Ç–æ–≤ —É–≤–∏–¥–µ—Ç—å –≤—Å—ë?';
  </script>
</body>
</html>
